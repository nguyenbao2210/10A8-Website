<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>L·ªùi nh·∫Øn 10A8 ‚Äì K24</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      height: 100vh;

      background: linear-gradient(-45deg, #1e3c72, #2a5298, #fbc531, #00a8ff);
      background-size: 400% 400%;
      animation: gradientBG 20s ease infinite;
      position: relative;
      z-index: 0;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url('lop10a8.jpg') center/cover no-repeat;
      opacity: 0.12;
      z-index: -1; 
    }

    @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .sidebar {
      width: 250px;
      background: rgba(34, 34, 34, 0.85);
      color: white;
      padding: 15px;
      overflow-y: auto;
    }
    .sidebar h2 {
      font-size: 18px;
      margin-top: 0;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
    }
    .sidebar li {
      margin: 8px 0;
    }
    .sidebar a {
      color: white;
      text-decoration: none;
      cursor: pointer;
    }
    .sidebar a:hover {
      color: #ffcc00;
    }

    .content {
      flex: 1;
      padding: 20px;
      background: rgba(249, 249, 249, 0.85);
      overflow-y: auto;
      border-radius: 8px;
      margin: 10px;
      max-width: calc(100% - 330px); 
    }

    .message {
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }
    .time {
      font-size: 12px;
      color: #666;
    }
    .form-section {
      margin-bottom: 20px;
    }
    .form-section input, .form-section select, .form-section textarea {
      width: 100%;
      padding: 8px;
      margin: 5px 0;
      box-sizing: border-box;
    }
    .form-section button {
      padding: 10px 15px;
      background: #222;
      color: white;
      border: none;
      cursor: pointer;
    }
    .form-section button:hover {
      background: #ffcc00;
      color: #222;
    }

    #particles {
      position: fixed;
      inset: 0;
      z-index: 0;        
      pointer-events: none;
    }

    .content, .sidebar {
      position: relative;
      z-index: 1;        
    }

    .right-panel {
      width: 80px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 20px;
    }

    .right-panel a {
      color: white;
      text-decoration: none;
      margin: 20px 0;
      font-size: 24px;
      transition: 0.3s;
    }

    .right-panel a:hover {
      color: #ffcc00;
    }
  </style>
</head>
<body>
  
  <div class="sidebar">
    <h2>Danh s√°ch b·∫°n b√® (10A8 ‚Äì K24)</h2>
    <ul>
      <li><a onclick="loadMessages('Ph·∫°m Nh·∫≠t An')">Ph·∫°m Nh·∫≠t An</a></li>
      <li><a onclick="loadMessages('Tr·∫ßn Th·ª•c Anh')">Tr·∫ßn Th·ª•c Anh</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn H·ªìng Anh')">Nguy·ªÖn H·ªìng Anh</a></li>
      <li><a onclick="loadMessages('Tr∆∞∆°ng Nguy√™n B·∫£o')">Tr∆∞∆°ng Nguy√™n B·∫£o</a></li>
      <li><a onclick="loadMessages('Ph·∫°m Ng·ªçc Qu·ª≥nh Chi')">Ph·∫°m Ng·ªçc Qu·ª≥nh Chi</a></li>
      <li><a onclick="loadMessages('Chu Ng·ªçc Di·ªáp')">Chu Ng·ªçc Di·ªáp</a></li>
      <li><a onclick="loadMessages('Kim Nh·∫≠t D≈©ng')">Kim Nh·∫≠t D≈©ng</a></li>
      <li><a onclick="loadMessages('L√™ H·∫£i ƒêƒÉng')">L√™ H·∫£i ƒêƒÉng</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Anh ƒê·ª©c')">Nguy·ªÖn Anh ƒê·ª©c</a></li>
      <li><a onclick="loadMessages('ƒê√†m Tr·ªçng Hi·∫øu')">ƒê√†m Tr·ªçng Hi·∫øu</a></li>
      <li><a onclick="loadMessages('Ph·∫°m Minh Hi·∫øu')">Ph·∫°m Minh Hi·∫øu</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn ƒê·ª©c Huy')">Nguy·ªÖn ƒê·ª©c Huy</a></li>
      <li><a onclick="loadMessages('ƒê√†o ƒê·ª©c H∆∞ng')">ƒê√†o ƒê·ª©c H∆∞ng</a></li>
      <li><a onclick="loadMessages('Ph·∫°m C√°t Kh√°nh')">Ph·∫°m C√°t Kh√°nh</a></li>
      <li><a onclick="loadMessages('Chu H√† Gia Kh√°nh')">Chu H√† Gia Kh√°nh</a></li>
      <li><a onclick="loadMessages('Ng√¥ Xu√¢n Khoa')">Ng√¥ Xu√¢n Khoa</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn ƒêƒÉng Khoa')">Nguy·ªÖn ƒêƒÉng Khoa</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Minh Kh√¥i')">Nguy·ªÖn Minh Kh√¥i</a></li>
      <li><a onclick="loadMessages('Ph·∫°m Gia Kh√¥i')">Ph·∫°m Gia Kh√¥i</a></li>
      <li><a onclick="loadMessages('Tr·∫ßn T√πng L√¢m')">Tr·∫ßn T√πng L√¢m</a></li>
      <li><a onclick="loadMessages('Tr·∫ßn L√¢m')">Tr·∫ßn L√¢m</a></li>
      <li><a onclick="loadMessages('ƒê·∫∑ng Tr·∫ßn H√† Linh')">ƒê·∫∑ng Tr·∫ßn H√† Linh</a></li>
      <li><a onclick="loadMessages('L√™ Nh·∫≠t Minh')">L√™ Nh·∫≠t Minh</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn V≈© Ho√†ng Minh')">Nguy·ªÖn V≈© Ho√†ng Minh</a></li>
      <li><a onclick="loadMessages('Tr·∫ßn Duy Minh')">Tr·∫ßn Duy Minh</a></li>
      <li><a onclick="loadMessages('B√πi D∆∞∆°ng Tr√† My')">B√πi D∆∞∆°ng Tr√† My</a></li>
      <li><a onclick="loadMessages('Ph·∫°m Nh·∫≠t Nam')">Ph·∫°m Nh·∫≠t Nam</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn H√† Nghi·ªáp')">Nguy·ªÖn H√† Nghi·ªáp</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Minh Ng·ªçc')">Nguy·ªÖn Minh Ng·ªçc</a></li>
      <li><a onclick="loadMessages('Tr·∫ßn Gia Ph√°t')">Tr·∫ßn Gia Ph√°t</a></li>
      <li><a onclick="loadMessages('D∆∞∆°ng Th·ªã Mai Ph∆∞∆°ng')">D∆∞∆°ng Th·ªã Mai Ph∆∞∆°ng</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Anh Qu√¢n')">Nguy·ªÖn Anh Qu√¢n</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Minh S∆°n')">Nguy·ªÖn Minh S∆°n</a></li>
      <li><a onclick="loadMessages('Ph·∫°m Thanh Th·∫£o')">Ph·∫°m Thanh Th·∫£o</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Thanh Th·∫£o')">Nguy·ªÖn Thanh Th·∫£o</a></li>
      <li><a onclick="loadMessages('T√¥ Ph∆∞∆°ng Th·∫£o')">T√¥ Ph∆∞∆°ng Th·∫£o</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Thanh Th·ªßy')">Nguy·ªÖn Thanh Th·ªßy</a></li>
      <li><a onclick="loadMessages('Lai Ho√†ng Lan Thy')">Lai Ho√†ng Lan Thy</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Th·ªã Thanh Tr√†')">Nguy·ªÖn Th·ªã Thanh Tr√†</a></li>
      <li><a onclick="loadMessages('ƒê·ªó Qu·ª≥nh Trang')">ƒê·ªó Qu·ª≥nh Trang</a></li>
      <li><a onclick="loadMessages('ƒê·∫∑ng Kh√°nh Vinh')">ƒê·∫∑ng Kh√°nh Vinh</a></li>
      <li><a onclick="loadMessages('Nguy·ªÖn Quang Vinh')">Nguy·ªÖn Quang Vinh</a></li>
      <li><a onclick="loadMessages('L√™ Quang V≈©')">L√™ Quang V≈©</a></li>
      <li><a onclick="loadMessages('V≈© Nh∆∞ √ù')">V≈© Nh∆∞ √ù</a></li>
    </ul>
  </div>

<div class="content">
    <div class="form-section">
      <h2>‚úçÔ∏è G·ª≠i l·ªùi nh·∫Øn</h2>
      <input type="text" id="senderInput" placeholder="T√™n c·ªßa b·∫°n...">
      <select id="receiverInput">
        <option value="">-- Ch·ªçn ng∆∞·ªùi nh·∫≠n --</option>
        <option value="Ph·∫°m Nh·∫≠t An">Ph·∫°m Nh·∫≠t An</option>
        <option value="Tr·∫ßn Th·ª•c Anh">Tr·∫ßn Th·ª•c Anh</option>
        <option value="Nguy·ªÖn H·ªìng Anh">Nguy·ªÖn H·ªìng Anh</option>
        <option value="Tr∆∞∆°ng Nguy√™n B·∫£o">Tr∆∞∆°ng Nguy√™n B·∫£o</option>
        <option value="Ph·∫°m Ng·ªçc Qu·ª≥nh Chi">Ph·∫°m Ng·ªçc Qu·ª≥nh Chi</option>
        <option value="Chu Ng·ªçc Di·ªáp">Chu Ng·ªçc Di·ªáp</option>
        <option value="Kim Nh·∫≠t D≈©ng">Kim Nh·∫≠t D≈©ng</option>
        <option value="L√™ H·∫£i ƒêƒÉng">L√™ H·∫£i ƒêƒÉng</option>
        <option value="Nguy·ªÖn Anh ƒê·ª©c">Nguy·ªÖn Anh ƒê·ª©c</option>
        <option value="ƒê√†m Tr·ªçng Hi·∫øu">ƒê√†m Tr·ªçng Hi·∫øu</option>
        <option value="Ph·∫°m Minh Hi·∫øu">Ph·∫°m Minh Hi·∫øu</option>
        <option value="Nguy·ªÖn ƒê·ª©c Huy">Nguy·ªÖn ƒê·ª©c Huy</option>
        <option value="ƒê√†o ƒê·ª©c H∆∞ng">ƒê√†o ƒê·ª©c H∆∞ng</option>
        <option value="Ph·∫°m C√°t Kh√°nh">Ph·∫°m C√°t Kh√°nh</option>
        <option value="Chu H√† Gia Kh√°nh">Chu H√† Gia Kh√°nh</option>
        <option value="Ng√¥ Xu√¢n Khoa">Ng√¥ Xu√¢n Khoa</option>
        <option value="Nguy·ªÖn ƒêƒÉng Khoa">Nguy·ªÖn ƒêƒÉng Khoa</option>
        <option value="Nguy·ªÖn Minh Kh√¥i">Nguy·ªÖn Minh Kh√¥i</option>
        <option value="Ph·∫°m Gia Kh√¥i">Ph·∫°m Gia Kh√¥i</option>
        <option value="Tr·∫ßn T√πng L√¢m">Tr·∫ßn T√πng L√¢m</option>
        <option value="Tr·∫ßn L√¢m">Tr·∫ßn L√¢m</option>
        <option value="ƒê·∫∑ng Tr·∫ßn H√† Linh">ƒê·∫∑ng Tr·∫ßn H√† Linh</option>
        <option value="L√™ Nh·∫≠t Minh">L√™ Nh·∫≠t Minh</option>
        <option value="Nguy·ªÖn V≈© Ho√†ng Minh">Nguy·ªÖn V≈© Ho√†ng Minh</option>
        <option value="Tr·∫ßn Duy Minh">Tr·∫ßn Duy Minh</option>
        <option value="B√πi D∆∞∆°ng Tr√† My">B√πi D∆∞∆°ng Tr√† My</option>
        <option value="Ph·∫°m Nh·∫≠t Nam">Ph·∫°m Nh·∫≠t Nam</option>
        <option value="Nguy·ªÖn H√† Nghi·ªáp">Nguy·ªÖn H√† Nghi·ªáp</option>
        <option value="Nguy·ªÖn Minh Ng·ªçc">Nguy·ªÖn Minh Ng·ªçc</option>
        <option value="Tr·∫ßn Gia Ph√°t">Tr·∫ßn Gia Ph√°t</option>
        <option value="D∆∞∆°ng Th·ªã Mai Ph∆∞∆°ng">D∆∞∆°ng Th·ªã Mai Ph∆∞∆°ng</option>
        <option value="Nguy·ªÖn Anh Qu√¢n">Nguy·ªÖn Anh Qu√¢n</option>
        <option value="Nguy·ªÖn Minh S∆°n">Nguy·ªÖn Minh S∆°n</option>
        <option value="Ph·∫°m Thanh Th·∫£o">Ph·∫°m Thanh Th·∫£o</option>
        <option value="Nguy·ªÖn Thanh Th·∫£o">Nguy·ªÖn Thanh Th·∫£o</option>
        <option value="T√¥ Ph∆∞∆°ng Th·∫£o">T√¥ Ph∆∞∆°ng Th·∫£o</option>
        <option value="Nguy·ªÖn Thanh Th·ªßy">Nguy·ªÖn Thanh Th·ªßy</option>
        <option value="Lai Ho√†ng Lan Thy">Lai Ho√†ng Lan Thy</option>
        <option value="Nguy·ªÖn Th·ªã Thanh Tr√†">Nguy·ªÖn Th·ªã Thanh Tr√†</option>
        <option value="ƒê·ªó Qu·ª≥nh Trang">ƒê·ªó Qu·ª≥nh Trang</option>
        <option value="ƒê·∫∑ng Kh√°nh Vinh">ƒê·∫∑ng Kh√°nh Vinh</option>
        <option value="Nguy·ªÖn Quang Vinh">Nguy·ªÖn Quang Vinh</option>
        <option value="L√™ Quang V≈©">L√™ Quang V≈©</option>
        <option value="V≈© Nh∆∞ √ù">V≈© Nh∆∞ √ù</option>
      </select>
      <textarea id="messageInput" rows="5" placeholder="Nh·∫≠p l·ªùi nh·∫Øn..."></textarea>
      <button id="submitBtn">G·ª≠i</button>
    </div>

    <h2 id="user-title">Ch·ªçn t√™n ƒë·ªÉ xem l·ªùi nh·∫Øn</h2>
    <div id="messages"></div>
  </div>

  <div class="right-panel">
    <a href="index.html" title="Trang ch·ªß">üè†</a>
    <a href="gallery.html" title="Gallery">üñº</a>
    <a href="video.html" title="Video">üé¨</a>
    <a href="messages.html" title="L·ªùi nh·∫Øn">üí¨</a>
  </div>


  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD2ikCTbjpBs3L5gwiLKWOp5kAlBpUxSNI",
      authDomain: "a8-noitaoranhungconhodungmanh.firebaseapp.com",
      projectId: "a8-noitaoranhungconhodungmanh",
      storageBucket: "a8-noitaoranhungconhodungmanh.firebasestorage.app",
      messagingSenderId: "795336127757",
      appId: "1:795336127757:web:5351fe6536b37ac90e6c44",
      measurementId: "G-SNXX0VKYXR"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function loadMessages(receiverName) {
      document.getElementById('user-title').innerText = "L·ªùi nh·∫Øn d√†nh cho " + receiverName;
      const messagesDiv = document.getElementById('messages');
      messagesDiv.innerHTML = "ƒêang t·∫£i...";

      try {
        const q = query(collection(db, "messages"), orderBy("timestamp", "desc"));
        const snapshot = await getDocs(q);

        messagesDiv.innerHTML = "";
        snapshot.forEach((doc) => {
          const data = doc.data();
          if (data.receiver === receiverName) {
            const date = data.timestamp?.toDate ? data.timestamp.toDate().toLocaleString() : "";
            messagesDiv.innerHTML += `
              <div class="message">
                <strong>${data.sender}</strong> (${date}):<br>${data.content}
              </div>
            `;
          }
        });

        if (messagesDiv.innerHTML === "") {
          messagesDiv.innerHTML = "<p>Ch∆∞a c√≥ l·ªùi nh·∫Øn n√†o.</p>";
        }
      } catch (error) {
        console.error("L·ªói khi t·∫£i d·ªØ li·ªáu:", error);
        messagesDiv.innerHTML = "<p>L·ªói khi t·∫£i d·ªØ li·ªáu.</p>";
      }
    }
    window.loadMessages = loadMessages;

    const submitBtn = document.getElementById("submitBtn");
    submitBtn.addEventListener("click", async () => {
      const sender = document.getElementById("senderInput").value.trim();
      const receiver = document.getElementById("receiverInput").value.trim();
      const msg = document.getElementById("messageInput").value.trim();

      if (!sender || !receiver || !msg) {
        alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin.");
        return;
      }

      try {
        await addDoc(collection(db, "messages"), {
          sender: sender,
          receiver: receiver,
          content: msg,
          timestamp: new Date()
        });
        alert("G·ª≠i th√†nh c√¥ng!");
        document.getElementById("messageInput").value = "";
      } catch (error) {
        console.error("L·ªói khi g·ª≠i:", error);
        alert("C√≥ l·ªói x·∫£y ra khi g·ª≠i.");
      }
    });
  </script>

  <canvas id="particles"></canvas>
  <script>
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");

    let particles = [];
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    for (let i = 0; i < 120; i++) {  
      particles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 2.2 + 0.8,
        speedY: Math.random() * 0.35 + 0.12,
        opacity: Math.random() * 0.5 + 0.3
      });
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255,255,255,${p.opacity})`;
        ctx.fill();

        p.y += p.speedY;
        if (p.y > canvas.height) {
          p.y = -p.radius;
          p.x = Math.random() * canvas.width;
        }
      });
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
  </script>
</body>
</html>
